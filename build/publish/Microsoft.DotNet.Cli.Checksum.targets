<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Target Name="GenerateChecksums"
          DependsOnTargets="Init;
                            SetupGenerateChecksumsInputs;"
          Inputs="@(GenerateChecksumsInputs)"
          Outputs="%(GenerateChecksumsInputs.DestinationPath)">
    <GenerateChecksums Items="@(GenerateChecksumsInputs)" />
  </Target>

  <Target Name="SetupGenerateChecksumsInputs"
          DependsOnTargets="Init;
                            GatherItemsForPattern">
    <ItemGroup>
      <GenerateChecksumsInputs Include="@(ForPublishing)">
        <DestinationPath>%(ForPublishing.FullPath).sha</DestinationPath>
        <RelativeBlobPath>%(ForPublishing.RelativeBlobPath).sha</RelativeBlobPath>
      </GenerateChecksumsInputs>
    </ItemGroup>
  </Target>
</Project>
